"use strict";(this.webpackChunk_hz_project_x=this.webpackChunk_hz_project_x||[]).push([[84225,35602,19427],{338021:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemTypes=void 0,(i=t.ProblemTypes||(t.ProblemTypes={})).ACCESS_DENIED="http://ns.adobe.com/adobecloud/problem/accessdenied",i.ASSET_LOCKED="http://ns.adobe.com/adobecloud/problem/assetlocked",i.ASSET_MOVED="http://ns.adobe.com/adobecloud/problem/assetmoved",i.ASSET_NAME_CONFLICT="http://ns.adobe.com/adobecloud/problem/assetnameconflict",i.ASSET_NAME_INVALID="http://ns.adobe.com/adobecloud/problem/assetnamenotvalid",i.ASSET_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/assetnotfound",i.ASSET_STATE_NOT_ALLOWED="http://ns.adobe.com/adobecloud/problem/assetstatenotallowed",i.BAD_REQUEST="http://ns.adobe.com/adobecloud/problem/badrequest",i.BULK_REQUEST_NOT_ATTEMPTED="http://ns.adobe.com/adobecloud/problem/bulkrequestnotattempted",i.COMPOSITE_INTEGRITY="http://ns.adobe.com/adobecloud/problem/compositeintegrity",i.DCX_VALIDATION="http://ns.adobe.com/adobecloud/problem/dcxvalidation",i.DIRECTORY_NOT_EMPTY="http://ns.adobe.com/adobecloud/problem/directorynotempty",i.EMBED_INVALID="http://ns.adobe.com/adobecloud/problem/embedinvalid",i.EMBED_TOO_LARGE="http://ns.adobe.com/adobecloud/problem/embedtoolarge",i.ENCRYPTION_KEY_INACCESSIBLE="http://ns.adobe.com/adobecloud/problem/encryptionkeyinaccessible",i.INVALID_FRAGMENT="http://ns.adobe.com/adobecloud/problem/invalidfragment",i.LIMIT_CHILDREN_COUNT="http://ns.adobe.com/adobecloud/problem/limit/childrencount",i.LIMIT_COMPONENT_COUNT="http://ns.adobe.com/adobecloud/problem/limit/componentcount",i.LIMIT_EMBED_SELECTOR_COUNT="http://ns.adobe.com/adobecloud/problem/limit/embedspecifierselectorcount",i.LIMIT_MILESTONE_COUNT="http://ns.adobe.com/adobecloud/problem/limit/milestonecount",i.LIMIT_MILESTONE_LABEL_LENGTH="http://ns.adobe.com/adobecloud/problem/limit/milestonelabellength",i.LIMIT_NAME_LENGTH="http://ns.adobe.com/adobecloud/problem/limit/namelength",i.LIMIT_OPERATION_COUNT="http://ns.adobe.com/adobecloud/problem/limit/operationcount",i.LIMIT_PATH_SEGMENT_COUNT="http://ns.adobe.com/adobecloud/problem/limit/pathsegmentcount",i.LIMIT_RESOURCE_COUNT="http://ns.adobe.com/adobecloud/problem/limit/resourcecount",i.LIMIT_RESOURCE_SIZE="http://ns.adobe.com/adobecloud/problem/limit/resourcesize",i.NOT_ENTITLED="http://ns.adobe.com/adobecloud/problem/notentitled",i.OPERATION_FAILED="http://ns.adobe.com/adobecloud/problem/operationfailed",i.OPERATION_TARGET_CONFLICT="http://ns.adobe.com/adobecloud/problem/operation/targetconflict",i.QUOTA_EXCEEDED="http://ns.adobe.com/adobecloud/problem/quotaexceeded",i.REPOSITORY_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/repositorynotfound",i.RESOURCE_BLOCKED="http://ns.adobe.com/adobecloud/problem/resourceblocked",i.RESOURCE_NOT_ALLOWED="http://ns.adobe.com/adobecloud/problem/resourcenotallowed",i.RESOURCE_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/resourcenotfound",i.RESOURCE_NOT_READY="http://ns.adobe.com/adobecloud/problem/resourcenotready",i.RESPONSE_TOO_LARGE="http://ns.adobe.com/adobecloud/problem/responsetoolarge",i.USER_BLOCKED="http://ns.adobe.com/adobecloud/problem/userblocked",i.VERSION_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/versionnotfound",i.PARTIAL_ASSET="http://ns.adobe.com/adobecloud/problem/partialasset";const s={ASSET_MOVED:"ASSET_MOVED",INVALID_JSON:"INVALID_JSON",READ_ONLY:"READ_ONLY",INVALID_PARAMS:"",INVALID_LINKS:"INVALID_LINKS",PRECONDITION_FAILED:"PRECONDITION_FAILED",INVALID_DATA:"INVALID_DATA",DUPLICATE_VALUE:"DUPLICATE_VALUE",NO_BASE_BRANCH_DATA:"NO_BASE_BRANCH_DATA",INVALID_STATE:"INVALID_STATE",DELETED_COMPOSITE:"DELETED_COMPOSITE",INCOMPLETE_COMPOSITE:"INCOMPLETE_COMPOSITE",UNEXPECTED_RESPONSE:"UNEXPECTED_RESPONSE",NETWORK_ERROR:"NETWORK_ERROR",COMPONENT_DOWNLOAD_ERROR:"COMPONENT_DOWNLOAD_ERROR",COMPONENT_UPLOAD_ERROR:"COMPONENT_UPLOAD_ERROR",COMPONENT_MODIFIED_ERROR:"COMPONENT_MODIFIED_ERROR",UPDATE_CONFLICT:"UPDATE_CONFLICT",NO_COMPOSITE:"NO_COMPOSITE",ALREADY_EXISTS:"ALREADY_EXISTS",SERVICE_IS_INACTIVE:"SERVICE_IS_INACTIVE",EXCEEDS_QUOTA:"EXCEEDS_QUOTA",NOT_IMPLEMENTED:"NOT_IMPLEMENTED",RETRYABLE_SERVER_ERROR:"RETRYABLE_SERVER_ERROR",TIMED_OUT:"TIMED_OUT",UNEXPECTED:"UNEXPECTED",TERMINATED_INPUTSTREAM:"TERMINATED_INPUTSTREAM",WRONG_ENDPOINT:"WRONG_ENDPOINT",OUT_OF_SPACE:"ENOSPC",FILE_EXISTS_IN_CLOUD:"FILE_EXISTS_IN_CLOUD",ASSET_NOT_FOUND:"ASSET_NOT_FOUND",COMPOSITE_NOT_FOUND:"COMPOSITE_NOT_FOUND",NOT_FOUND:"NOT_FOUND",UNAUTHORIZED:"UNAUTHORIZED",FORBIDDEN:"FORBIDDEN",METHOD_NOT_ALLOWED:"METHOD_NOT_ALLOWED",NOT_ACCEPTABLE:"NOT_ACCEPTABLE",BANDWIDTH_LIMIT_EXCEEDED:"BANDWIDTH_LIMIT_EXCEEDED",ABORTED:"ABORTED",TOO_MANY_REDIRECTS:"TOO_MANY_REDIRECTS",INSECURE_REDIRECT:"INSECURE_REDIRECT",RESOURCE_NOT_READY:"RESOURCE_NOT_READY"},o={[s.SERVICE_IS_INACTIVE]:!0,[s.ABORTED]:!0,[s.INSECURE_REDIRECT]:!0,[s.TOO_MANY_REDIRECTS]:!0,[s.NOT_IMPLEMENTED]:!0,[s.EXCEEDS_QUOTA]:!0,[s.RETRYABLE_SERVER_ERROR]:!0,[s.TIMED_OUT]:!0,[s.TERMINATED_INPUTSTREAM]:!0,[s.WRONG_ENDPOINT]:!0,[s.OUT_OF_SPACE]:!0,[s.INVALID_PARAMS]:!0,[s.INVALID_STATE]:!0};class n extends Error{constructor(e,t,i,s,o){var r;if(super(),this.code=e,this.name="AdobeDCXError",this._additionalData={},"application/problem+json"===(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r["content-type"])&&s.response&&"object"==typeof s.response&&"function"==typeof s.response.slice)try{const e=JSON.parse(new TextDecoder("utf-8").decode(s.response));s.response=e}catch(e){const t=s.response;s.response={originalBody:t,message:"Failed to parse JSON problem type response body.",parseError:e}}if(i instanceof Error&&(this._underlyingError=i),this._response=s||(a(i)?i.response:void 0),this._additionalData=o,this._message=t,this.message=("string"==typeof e&&""!==e?"["+e+"] ":"")+(this._message||""),Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace)Error.captureStackTrace(this,n);else try{const e=new Error;if(e.name=this.name,e.stack){const t=e.stack.split("\n");t.length>0&&t.splice(1,1),this.stack=t.join("\n")}}catch(e){}}get response(){return this._response}get problemType(){var e;if("application/problem+json"===(null===(e=this._response)||void 0===e?void 0:e.headers["content-type"]))return this._response.response.type}get underlyingError(){return this._underlyingError}get additionalData(){return this._additionalData}set additionalData(e){this._additionalData=e}get failedComponents(){return this._additionalData.failedComponents}static wrapError(e,i,a,r){var l,d,c,E;if(a&&o[a.code])return a;if(r&&"object"==typeof r){const o=r.statusCode,_=403===o&&("403.1"===(null===(c=null===(d=null===(l=r.response)||void 0===l?void 0:l.message)||void 0===d?void 0:d.match(/code=(\d+.\d+)/))||void 0===c?void 0:c[1])||(null===(E=r.response)||void 0===E?void 0:E.type)===t.ProblemTypes.QUOTA_EXCEEDED);if(o>=500&&o<600||_)501===o?(e=s.NOT_IMPLEMENTED,i="Unimplemented request"):507===o||_?(e=s.EXCEEDS_QUOTA,i="Quota exceeded"):(e=s.RETRYABLE_SERVER_ERROR,i="Server error");else if(a instanceof n&&e===a.code&&a.code===this.UNEXPECTED_RESPONSE)return a}return new n(e,i,a,r)}toString(){return`${this.name}: ${this.message}`}static networkError(e,t,i){return n.wrapError(s.NETWORK_ERROR,e,t,i)}static unexpectedResponse(e,t,i){return n.wrapError(s.UNEXPECTED_RESPONSE,e,t,i)}}function a(e){return!(!e||"object"!=typeof e)&&"AdobeDCXError"===e.name}n.ABORTED=s.ABORTED,n.INSECURE_REDIRECT=s.INSECURE_REDIRECT,n.TOO_MANY_REDIRECTS=s.TOO_MANY_REDIRECTS,n.INVALID_JSON=s.INVALID_JSON,n.READ_ONLY=s.READ_ONLY,n.INVALID_PARAMS=s.INVALID_PARAMS,n.INVALID_DATA=s.INVALID_DATA,n.DUPLICATE_VALUE=s.DUPLICATE_VALUE,n.NO_BASE_BRANCH_DATA=s.NO_BASE_BRANCH_DATA,n.INVALID_STATE=s.INVALID_STATE,n.DELETED_COMPOSITE=s.DELETED_COMPOSITE,n.INCOMPLETE_COMPOSITE=s.INCOMPLETE_COMPOSITE,n.UNEXPECTED_RESPONSE=s.UNEXPECTED_RESPONSE,n.NETWORK_ERROR=s.NETWORK_ERROR,n.COMPONENT_DOWNLOAD_ERROR=s.COMPONENT_DOWNLOAD_ERROR,n.COMPONENT_UPLOAD_ERROR=s.COMPONENT_UPLOAD_ERROR,n.COMPONENT_MODIFIED_ERROR=s.COMPONENT_MODIFIED_ERROR,n.UPDATE_CONFLICT=s.UPDATE_CONFLICT,n.NO_COMPOSITE=s.NO_COMPOSITE,n.ALREADY_EXISTS=s.ALREADY_EXISTS,n.SERVICE_IS_INACTIVE=s.SERVICE_IS_INACTIVE,n.EXCEEDS_QUOTA=s.EXCEEDS_QUOTA,n.NOT_IMPLEMENTED=s.NOT_IMPLEMENTED,n.RETRYABLE_SERVER_ERROR=s.RETRYABLE_SERVER_ERROR,n.TIMED_OUT=s.TIMED_OUT,n.UNEXPECTED=s.UNEXPECTED,n.TERMINATED_INPUTSTREAM=s.TERMINATED_INPUTSTREAM,n.WRONG_ENDPOINT=s.WRONG_ENDPOINT,n.OUT_OF_SPACE=s.OUT_OF_SPACE,n.FILE_EXISTS_IN_CLOUD=s.FILE_EXISTS_IN_CLOUD,n.ASSET_NOT_FOUND=s.ASSET_NOT_FOUND,n.COMPOSITE_NOT_FOUND=s.COMPOSITE_NOT_FOUND,n.NOT_FOUND=s.NOT_FOUND,n.UNAUTHORIZED=s.UNAUTHORIZED,n.FORBIDDEN=s.FORBIDDEN,n.PRECONDITION_FAILED=s.PRECONDITION_FAILED,n.RESOURCE_NOT_READY=s.RESOURCE_NOT_READY;const r=new Map([[400,{code:s.UNEXPECTED_RESPONSE,message:"Bad request"}],[401,{code:s.UNAUTHORIZED,message:"Unauthorized"}],[403,{code:s.FORBIDDEN,message:"Forbidden"}],[404,{code:s.NOT_FOUND,message:"Not found"}],[405,{code:s.METHOD_NOT_ALLOWED,message:"The user is authorized to act on this resource, but cannot use the specified method."}],[406,{code:s.NOT_ACCEPTABLE,message:"Unable to obtain resource in a content type matching the Accept header or rendition type parameter."}],[409,{code:s.ALREADY_EXISTS,message:"Already exists"}],[412,{code:s.PRECONDITION_FAILED,message:"Precondition failed"}],[501,{code:s.NOT_IMPLEMENTED,message:"Not implemented"}],[507,{code:s.EXCEEDS_QUOTA,message:"Exceeds quota"}],[509,{code:s.BANDWIDTH_LIMIT_EXCEEDED,message:"Bandwidth limit exceeded"}]]),l=new Map(Object.entries({[t.ProblemTypes.ASSET_MOVED]:{code:s.ASSET_MOVED,message:"Asset moved to a different region while operation was in progress"},[t.ProblemTypes.COMPOSITE_INTEGRITY]:{code:s.INCOMPLETE_COMPOSITE,message:"Incomplete composite. invoke missingComponentsFromError with this error for more information."},[t.ProblemTypes.PARTIAL_ASSET]:{code:s.NO_COMPOSITE,message:"Asset is partially created. No Manifest found"}})),d=e=>{var t,i;const s=l.get(null!==(i=null===(t=e.response)||void 0===t?void 0:t.type)&&void 0!==i?i:"")||r.get(e.statusCode);return s?new n(s.code,s.message,void 0,e,e.response):void 0},c=(e,t)=>e&&t?e<300&&e>199||d(t)||!1:new n(s.NETWORK_ERROR,"Invalid or missing status code or response",void 0,t);t.AdobeDCXError=n,t.DCXError=n,t.ErrorCodes=s,t.HTTP_STATUS_ERROR_MAP=r,t._defaultStatusValidator=c,t._handleErrorResponsePayload=function(e){const t=Array.isArray(e.response)?e.response.reduce(((e,t)=>e||t.error),void 0):e.response.error;if(!t)return e;const i=c(t.status,e);if(i instanceof n)throw i;throw new n(t.type||n.UNEXPECTED_RESPONSE,t.title||"Unexpected Error",t,e)},t._responseToError=d,t.default=n,t.isAdobeDCXError=a,t.networkError=function(e,t,i){return n.networkError(e,t,i)},t.unexpectedResponse=function(e,t,i){return n.unexpectedResponse(e,t,i)}},383876:(e,t,i)=>{var s;i.d(t,{Vd:()=>n,_5:()=>s,t3:()=>o}),function(e){e._example="_example-draft-1",e._test="_test-draft-1",e.debugComponentTransform="debug-component-transform-draft-1",e.interactions="interactions",e.variants="variants",e.stickyLayoutGrid="sticky-layout-grid-draft-1",e.filterFacelab="filter-facelab-draft-3",e.graphApiFilters="graph-api-filters-draft-1",e.compositeShapeDraft="composite-shape-draft-2",e.neuralShapeEffects="neural-shape-effects-draft-1",e.charts="charts-draft-9",e.effectGraph="effect-graph-draft-1",e.timelineTransitions="timeline-transitions-draft-1",e.gltf="gltf-draft-1",e.filterVideoFoundationAdjustments="filter-acr-vf-adjustments-draft-2"}(s||(s={}));const o=new Set(Object.values(s)),n=new Set(globalThis&&globalThis._hzTempDDMS||[])},935602:(e,t,i)=>{i.d(t,{L0:()=>E,OH:()=>p,XB:()=>u,dD:()=>s,lm:()=>_});var s,o=i(383876),n=i(215728),a=i(642368),r=i(880547),l=i(242062),d=i(386209);!function(e){e.floodgate="Floodgate",e.override="Release Plane Override",e.code="config-interface.ts",e.experiment="Experiment",e.rollout="Progressive Feature Rollout"}(s||(s={}));let c=class{attach(e){this._appConfig instanceof r.B&&this._appConfig.resolve(e),void 0!==this._cachedValue&&this.resetCachedValue(),this._appConfig=e;const t=(e.isPendingExperimentResolution(this.name)||e.isPendingRolloutResolution(this.name))&&void 0===this._pendingInitialization,i=e._getBrowserFlag(this.name);t&&void 0===i?(this._pendingInitialization=new r.B,e.registerListener(this.name,(e=>{void 0!==e&&this._featureUpdated()}))):this._pendingInitialization?.isSettled&&delete this._pendingInitialization,this.initialized()}async isEnabled(){return await this.initialized(),this.enabled}get enabled(){if(this._pendingInitialization){const e=`The feature flag ${this.name} is not initialized yet, please check it asynchronously by using "initialized()"`;throw console.error("AppConfig","Feature",e),this._increaseErrorMetric(),new d.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}return this._getEnabled()}resetCachedValue(){this._cachedValue=void 0}_increaseErrorMetric(){if(!this._appConfig||this._appConfig instanceof r.B)return;const e=this._appConfig.getOtelServiceName();if(!e)return;const t=this._appConfig.getSettingUnsafe("envName")??"unknown";l.ZP.metrics.getMeter(e).createCounter("hz_prx_feature_flag_error_count").add(1,{featureFlagName:this.name,envName:t})}_getEnabled(){if(void 0!==this._cachedValue)return this._cachedValue;if(this._appConfig instanceof r.B){const e="Feature not attached to appConfig: "+this.name;throw console.error("AppConfig","Feature",e),new d.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}let e=()=>{};this.floodgateData&&(e=()=>{if(!this.floodgateData.syncedWithFloodgate){const e="Floodgate features can not be checked before feature.initialized(), or await feature.isEnabled()";throw console.error("AppConfig","Feature",e),new d.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}return this.floodgateData.valueFromFloodgate});const t=this._appConfig._getFeatureEnabled(this.name,e);return this.floodgateData&&this.floodgateData.dynamic||(this._cachedValue=t),t}async initialized(){const e=[];return this._pendingInitialization&&e.push(this._pendingInitialization.promise),this.floodgateData&&(void 0===this.floodgateData.initFromFloodgatePromise&&(this.floodgateData.initFromFloodgatePromise=this._initializeFromFloodgate()),e.push(this.floodgateData.initFromFloodgatePromise)),Promise.all(e)}async _initializeFromFloodgate(){this._appConfig instanceof r.B&&await this._appConfig.promise,this.floodgateData&&await this._syncWithFloodgate()}_featureUpdated(){this._pendingInitialization instanceof r.B&&(this._pendingInitialization.resolve(!0),delete this._pendingInitialization),this._callbacks&&this._callbacks.forEach((e=>{e(this.enabled)}))}onUpdate(e){this._callbacks=this._callbacks??[],this._callbacks.push(e)}get _floodgateSyncer(){return a.Y.getInstance(this._appConfig)}async _syncWithFloodgate(){this._appConfig instanceof r.B&&await this._appConfig.promise;const e=this.floodgateData.floodgateKey??this.name;this.floodgateData.valueFromFloodgate=await this._floodgateSyncer.getFeatureState(e),this.floodgateData.syncedWithFloodgate=!0,this.floodgateData.dynamic&&(this._featureUpdated(),this._floodgateSyncer.registerForUpdates(this,(e=>{this._updateFloodgateState(e)})))}_updateFloodgateState(e){const t=this.enabled;this.floodgateData.valueFromFloodgate=e;this.enabled!==t&&this._featureUpdated()}constructor(e){this.name=e.name,e.checkFloodgate&&(this.floodgateData={syncedWithFloodgate:!1},e.floodgateKey&&(this.floodgateData.floodgateKey=e.floodgateKey),e.dynamic&&(this.floodgateData.dynamic=e.dynamic)),this._appConfig=new r.B}},E=class extends c{constructor(e,t){super({name:e,enabledDefault:Boolean(t)})}},_=class extends c{constructor(e,t,i){super({name:e,enabledDefault:!1,checkFloodgate:!0,dynamic:Boolean(t),floodgateKey:i})}},u=class extends c{async isEnabled(){if(this._appConfig instanceof r.B){const e=`FeatureChecker not attached to appConfig: ${this.name}`;throw console.error("AppConfig","Feature",e),new d.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}const e=this._appConfig.getFloodgateKeyOrName(this.name);return e&&!this.floodgateData&&(this.floodgateData={floodgateKey:e,syncedWithFloodgate:!0}),super.isEnabled()}get enabled(){if(o.t3.has(this.name))throw new d.R("Uninitialized",`FeatureChecker cannot be used to check draft feature flags: ${this.name}`,{logMetadata:{"custom.clientFatal":!0}});return super.enabled}constructor(e){super({name:e,enabledDefault:!1})}},p=class extends c{get enabled(){if(this._appConfig instanceof r.B){const e=`Feature not attached to appConfig: ${this.name}`;throw console.error("AppConfig","Feature",e),new d.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}const e=this._appConfig;let t=e._getBrowserFlag(this.name);return"boolean"!=typeof t&&(t=o.Vd.has(this.name)),(!t||e._environment!==n.b.prod)&&t}constructor(e){super({name:e,enabledDefault:!1})}}},804454:(e,t,i)=>{i.d(t,{M:()=>r,m:()=>a});var s=i(383876),o=i(835013),n=i(381068);let a=class{attach(e){}constructor(e){this.name="ModuleOverrides",this.config=e}},r=class extends o.w{async initialize(e,t,i,s){this.buildInfo=e,this._setModuleOverrides(i),this.setStaticFeatureFlags({...i.featureValues,...s.features}),this.setStaticSettings({...i.settingValues,...s.settings}),await this.initialized()}createModuleConfig(){throw new Error("Method not implemented.")}_setModuleOverrides(e){for(const t of Object.keys(e.moduleSpecificFeatures))this.moduleSpecificFeatures[t]=e.moduleSpecificFeatures[t];for(const t of Object.keys(e.moduleSpecificSettings))this.moduleSpecificSettings[t]=e.moduleSpecificSettings[t];for(const t of Object.keys(e.moduleSpecificEnvSettings))this.moduleSpecificEnvSettings[t]=e.moduleSpecificEnvSettings[t]}async initialized(){await Promise.all([this.initPromiseFeatureOverrides,this.initPromiseSettingOverrides]),this._initialized=!0}async getWorkerDataTransfer(){await this.initialized();const{sessionId:e,buildInfo:t,compiledConfig:i,localConfig:o}=await this._appConfig.getWorkerDataTransfer();return{sessionId:e,buildInfo:t,compiledConfig:{settingValues:{...i.settingValues,...this.settingOverrides,...this.moduleSpecificSettings},featureValues:{...i.featureValues,...this.featureOverrides,...this.moduleSpecificFeatures},moduleSpecificSettings:this.moduleSpecificSettings,moduleSpecificEnvSettings:this.moduleSpecificEnvSettings,moduleSpecificFeatures:this.moduleSpecificFeatures,envSettings:i.envSettings,floodgateFeatureNames:i.floodgateFeatureNames,draftDocModelFeatureNames:i.draftDocModelFeatureNames,lazySettings:i.lazySettings},releasePlaneConfig:{features:{...this.featureOverrides,...this._appConfig.getRolloutFeatureOverrides(),...this._appConfig.getExperimentsFeatureOverrides(),...this.moduleSpecificFeatures},settings:{...this.settingOverrides,...this.moduleSpecificSettings}},localConfig:o,ENABLED_DRAFT_FEATURE_FLAGS:s.Vd}}async hasFeature(e){if(!this._initialized){const e="ModuleConfig not initialized";throw this._appConfig?.categoryLogger()?.error("AppConfig","ModuleConfig",e),new Error(e)}return"boolean"==typeof this.moduleSpecificFeatures[e]?this.moduleSpecificFeatures[e]:"boolean"==typeof this.featureOverrides[e]?this.featureOverrides[e]:this._appConfig.hasFeature(e)}async attach(e){for(const t of Object.keys(e))e[t].attach(this),this._attachedConfigInterface.add(e[t]);return this.initialized()}detachConfiguration(){[...this._attachedConfigInterface].forEach((e=>{e.attach(this._appConfig)}))}_getFeatureEnabled(e,t){if(!this._initialized){const e="ModuleConfig not initialized";throw this._appConfig?.categoryLogger()?.error("AppConfig","ModuleConfig",e),new Error(e)}const i=this._appConfig._getBrowserFlag(e);if(void 0!==i)return this.tryToLogFeatureFlag(e,n.R.browserFlags,i),i;if("boolean"==typeof this.moduleSpecificFeatures[e])return this._appConfig.tryToLogFeatureFlag(e,n.R.moduleConfig,this.moduleSpecificFeatures[e]),this.moduleSpecificFeatures[e];const s=this.getFeatureValueFromExperiments(e);if(void 0!==s)return this._appConfig.tryToLogFeatureFlag(e,n.R.expClient,s),s;const o=this.getFeatureValueFromRolloutConfigurations(e);return void 0!==o?(this._appConfig.tryToLogFeatureFlag(e,n.R.rollout,o),o):"boolean"==typeof this.featureOverrides[e]?(this._appConfig.tryToLogFeatureFlag(e,n.R.moduleConfig,this.featureOverrides[e]),this.featureOverrides[e]):this._appConfig._getFeatureEnabled(e,t)}_getSettingValue(e){if(!this._initialized){const e="ModuleConfig not initialized";throw this._appConfig?.categoryLogger()?.error("AppConfig","ModuleConfig",e),new Error(e)}const t=this._getEnvValue(this.moduleSpecificEnvSettings[e]);return void 0!==t?t:void 0!==this.moduleSpecificSettings[e]?this.moduleSpecificSettings[e]:void 0!==this.settingOverrides[e]?this.settingOverrides[e]:this._appConfig._getSettingValue(e)}async getFeaturesFromExperiments(){return this._appConfig.getFeaturesFromExperiments()}async getFeaturesOverrides(){return this.featureOverrides}async getEnabledFeaturesFromFloodgate(e){return this._appConfig.getEnabledFeaturesFromFloodgate(e)}resolvePendingExperimentFeatureFlags(){this._appConfig.resolvePendingExperimentFeatureFlags()}resolvePendingRolloutFeatureFlags(){this._appConfig.resolvePendingRolloutFeatureFlags()}getBrowserLocalConfig(){return this._appConfig.getBrowserLocalConfig()}async adoptDraftModelFlags(e){return this._appConfig.adoptDraftModelFlags(e)}async enableAllFeatureFlags(){this._appConfig.enableAllFeatureFlags()}async getAppDraftModelFlags(){return this._appConfig.getAppDraftModelFlags()}async getFeatures(e){return{...await this._appConfig.getFeatures(e),...this.featureOverrides,...this.moduleSpecificFeatures}}getSettings(){return this._appConfig.getSettings()}hasDraftFeature(e){return this._appConfig.hasDraftFeature(e)}updateFeaturesFromExperiments(e){this._appConfig.updateFeaturesFromExperiments(e)}updateRolloutFeatures(e){this._appConfig.updateRolloutFeatures(e)}_resetBrowserFlags(){const e="Method not implemented";throw this._appConfig?.categoryLogger()?.error("AppConfig","ModuleConfig",e),new Error(e)}_setBrowserFlag(e,t){this._appConfig._setBrowserFlag(e,t)}_setBrowserSetting(e,t){this._appConfig._setBrowserSetting(e,t)}getLocalConfig(){return this._appConfig.getLocalConfig()}setLocalConfig(e){this._appConfig.setLocalConfig(e)}_setBrowserFlagList(e,t){this._appConfig._setBrowserFlagList(e,t)}registerListener(e,t){this._appConfig.registerListener(e,t)}isPendingExperimentResolution(e){return this._appConfig.isPendingExperimentResolution(e)}isPendingRolloutResolution(e){return this._appConfig.isPendingRolloutResolution(e)}_getEnvValue(e){return this._appConfig._getEnvValue(e)}getFloodgateKeyOrName(e){return this._appConfig.getFloodgateKeyOrName(e)}_getBrowserFlag(e){return this._appConfig._getBrowserFlag(e)}get _environment(){return this._appConfig._environment}async getHost(){return this._appConfig.getHost()}async getCurrentBuildState(){return this._appConfig.getCurrentBuildState()}getCurrentBuildStateSync(){return this._appConfig.getCurrentBuildStateSync()}addBuildStateObserver(e){return this._appConfig.addBuildStateObserver(e)}getFeatureOverrideValue(e){return this._appConfig.getFeatureOverrideValue(e)}getFeatureValueFromExperiments(e){return this._appConfig.getFeatureValueFromExperiments(e)}getFeatureValueFromRolloutConfigurations(e){return this._appConfig.getFeatureValueFromRolloutConfigurations(e)}getAccessTokenProvider(){return this._appConfig.getAccessTokenProvider()}setFactoryForAccessTokenProvider(e){this._appConfig.setFactoryForAccessTokenProvider(e)}syncWithFloodgate(){return this._appConfig.syncWithFloodgate()}persistAllBrowserFlags(){return this._appConfig.persistAllBrowserFlags()}isLazySetting(e){return this._appConfig.isLazySetting(e)}maybeRegisterSettingResolver(e,t){return this._appConfig.maybeRegisterSettingResolver(e,t)}getOtelServiceName(){return this._appConfig.getOtelServiceName()}getSettingUnsafe(e){return this._appConfig.getSettingUnsafe(e)}_setSettingValue(e,t){this._appConfig._setSettingValue(e,t)}constructor(e){super(),this._attachedConfigInterface=new Set,this.moduleSpecificFeatures={},this.moduleSpecificSettings={},this.moduleSpecificEnvSettings={},this._appConfig=e}}},498164:(e,t,i)=>{i.d(t,{NE:()=>l,NK:()=>c,Wb:()=>r,jL:()=>d,pE:()=>a});var s=i(880547),o=i(386209);let n=class{attach(e){this._appConfig instanceof s.B&&this._appConfig.resolve(e),e.isLazySetting(this.name)&&(this._deferred=new s.B),this._appConfig=e}get value(){if(this._appConfig instanceof s.B){const e=`Setting not attached to appConfig: ${this.name}`;throw console.error("AppConfig","Setting",e),new o.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}if(this._deferred){const e=`This setting doesn't have a value yet, you should use getValue to wait for it: ${this.name}`;throw console.error("AppConfig","Setting",e),new o.R("Uninitialized",e,{logMetadata:{"custom.clientFatal":!0}})}return this._appConfig._getSettingValue(this.name)}async getValue(){return this._appConfig instanceof s.B&&await this._appConfig.promise,this._deferred&&this._valueProvider?(this._deferred.adoptOnce(this._valueProvider),this._deferred.promise.then((e=>{delete this._deferred,this._appConfig._setSettingValue(this.name,e)})),this._deferred.promise):this.value}async initialized(){this._appConfig instanceof s.B&&await this._appConfig.promise}constructor(e){this.name=e.name,this._appConfig=new s.B}},a=class extends n{constructor(e,t){super({name:e,valueDefault:t})}},r=class extends n{constructor(e,t){super({name:e}),this._valueProvider=t}},l=class extends n{constructor(e,t,i){super({name:e,valueDefault:t,envOverrides:i})}},d=class extends(20548==i.j?n:null){attach(e){if(this._appConfig instanceof s.B&&this._appConfig.resolve(e),this._appConfig=e,this._settingResolverPromise){this._appConfig.maybeRegisterSettingResolver(this.name,this._settingResolver)||(delete this._settingResolver,delete this._settingResolverPromise)}}async getValue(){return this._settingResolverPromise?this._settingResolverPromise.then((()=>(delete this._settingResolver,delete this._settingResolverPromise,this._appConfig._getSettingValue(this.name)))):this.value}constructor(e){super({name:e}),this._settingResolverPromise=new Promise((e=>{this._settingResolver=t=>{delete this._settingResolver,e(t)}}))}},c=class extends n{constructor(e){super({name:e})}}},917423:(e,t,i)=>{i.d(t,{R:()=>O,s:()=>C});var s=i(244927),o=i(805413),n=i(116931),a=i(486807),r=i(62760),l=i(529550),d=i(509466),c=i(167363),E=i(521928),_=i(760834),u=i(144689),p=i(369458),g=i(104e3);const h={maxAttempts:3,shouldRetry:e=>!(e instanceof o.o&&!1===e.retryable),delay:500},f={eventName:r.CA.EVENT_PAGENAME,type:r.CA.EVENT_TYPE,subType:r.CA.EVENT_SUBTYPE,workflow:r.CA.EVENT_WORKFLOW,subCategory:r.CA.EVENT_SUBCATEGORY},T=new Set(Object.values(r.CA));let C=class{trigger(e){if(!this._analyticsClient)throw new Error("AnalyticsEvent instance without AnalyticsClient detected. Please register the event with AnalyticsClient.");const t={};for(const[e,i]of Object.entries(f))t[i]=this._spec[e];if(e){let i,s;const o=e;r.a0.TIME_START in o&&(i=new Date(o[r.a0.TIME_START]),o[r.CA.EVENT_TIME_START]=i.toISOString(),delete o[r.a0.TIME_START]),r.a0.TIME_END in o&&(s=new Date(o[r.a0.TIME_END]),o[r.CA.EVENT_TIME_END]=s.toISOString(),delete o[r.a0.TIME_END]),i&&s&&(o[r.CA.EVENT_VALUE]=s.getTime()-i.getTime());const n=o[r.a0.IS_FAILURE];void 0!==n&&(n&&(o[r.CA.EVENT_TYPE]="error"),delete o[r.a0.IS_FAILURE]);for(const i of Object.keys(e))T.has(i)||0!==i.indexOf("custom.")&&console.warn("Unrecognized AnalyticsPropertyName",{invalidName:i}),t[i]=e[i]}this._analyticsClient._sendEvent(t)}set name(e){this._spec.eventName=e}get name(){return`${this._spec.eventName}`}get type(){return this._spec.type}get subType(){return this._spec.subType}set client(e){this._analyticsClient=e}get client(){return this._analyticsClient}set contextGuid(e){if(!(0,u.Z)(e))throw new Error("Invalid UUID for contextGuid");this._eventMetaData=this._eventMetaData||{contextGuid:""},this._eventMetaData.contextGuid=e}constructor(e,t){this._spec=e,t&&(this._analyticsClient=t,this._analyticsClient._registerEvent(this))}},O=class e extends g.e{static get defaultInstance(){if(!e._defaultInstance){const t=n.y.singleton(),i=t.attach(d.q),s=i.then((()=>({useExperienceEdge:d.q.useExperienceEdge.isEnabled(),enableAEPAnalytics:d.q.enableAEPAnalytics.isEnabled(),aepConfigId:d.q.aepConfigId.value,launchURL:d.q.launchURL.value,marketingTechURL:d.q.marketingTechURL.value}))),c=new _.$(t.getHost(),s),u=i.then((()=>({otDomainId:d.q.otDomainId.value,privacyUrl:d.q.privacyURL.value}))),p=new E.h(t.getHost(),u),g=i.then((()=>({env:d.q.env.value,envName:d.q.envName.value,includeIngestBuildPrefix:d.q.includeIngestBuildPrefix.enabled,appSAPCode:d.q.appSAPCode.value,appVersion:d.q.appVersion.value,ingestAppCategory:d.q.ingestAppCategory.value,aaTrackingServer:d.q.aaTrackingServer.value,aaSecureTrackingServer:d.q.aaSecureTrackingServer.value,buildInfo:t.buildInfo,bundleHash:d.q.bundleHash.value,useExperienceEdge:d.q.useExperienceEdge.enabled,aepConfigId:d.q.aepConfigId.value,launchURL:d.q.launchURL.value,marketingTechURL:d.q.marketingTechURL.value}))),h=new l.f(t.getHost(),t.sessionId,g,c),f=i.then((()=>({ingestProcessingInterval:d.q.ingestProcessingInterval.value,analyticsBufferLimit:d.q.analyticsBufferLimit.value,ingestConfig:{ingestApiKey:d.q.ingestAPIKey.value,ingestAppCategory:d.q.ingestAppCategory.value,ingestProject:d.q.ingestProject.value,envName:d.q.ingestHostAlwaysProdEnabled.enabled?r.kC.ENVIRONMENT_PROD:d.q.envName.value,ingestHost:d.q.ingestHostAlwaysProdEnabled.enabled?d.q.ingestHostAlwaysProd.value:d.q.ingestHost.value,token:"",ingestWaitForAppStartup:d.q.ingestWaitForAppStartup.enabled}}))),T=new a.v(t.getHost(),f,(t=>e._defaultInstance._updateNetworkState(t))),C=o.k.createInstance(t.getHost(),f.then((e=>e.ingestConfig)));e._defaultInstance=new e(t,T,h,c,p,C);const O=e._defaultInstance,m=O._setUserConsentCb(),N=O._sendDataToIngestCb();O._privacyService.addConsentChangeListener(m,N),O._setExecutionEnvironment(),i.then((()=>{O.setAnalyticsFlag(d.q.enableAnalytics.enabled)}))}return e._defaultInstance}async shutdown(){await this._eventDataTransport.shutdown(),this.context?.shutdown()}get appConfig(){return this._appConfig}get context(){return this._analyticsContext}get transport(){return this._eventDataTransport}trigger(e,t){this._registerEvent(e),e.client=this,e.trigger(t)}_processOrQueueEvent(e){this.userConsent===r.Yz.ALLOWED&&this._processAnalyticsEvents([e]),this.userConsent===r.Yz.UNINITIALIZED&&this._eventQueue.queueEventData(e)}_sendEvent(e){!1!==this._enableAnalytics&&this.userConsent!==r.Yz.DENIED&&(this._analyticsContext.isInitialized()?(this._analyticsContext.adornEventData(e),this._processOrQueueEvent(e)):this._analyticsContext.initialized().then((()=>{this._analyticsContext.adornEventData(e),this._processOrQueueEvent(e)})))}async _setExecutionEnvironment(){const e=n.y.singleton();await e.attach(d.q);const t=await e.getHost();this._executionEnvironment=t.executionEnvironment()}async _eventQueueDeliveryFunction(e){this._enableAnalytics&&this.userConsent===r.Yz.ALLOWED&&await this._processAnalyticsEvents(e,!0)}async _sendToDunamis(e){const t=(0,s.XD)(this._ingestService.sendEventData,h);await t(e).catch((e=>{console.warn("Analytics encountered an unexpected error while sending data to Ingest: ",e)}))}async _processAnalyticsEvents(e,t=!1){!0===t?await this._sendToDunamis(e):this._sendToDunamis(e),e.forEach((e=>{switch(this._executionEnvironment){case c.st.Worker:postMessage({type:r.kC.PAYLOAD_FROM_WORKER,payload:e});break;case c.st.Browser:this.notifyListeners(e),this._marketingTechService.sendEvent(e);break;default:console.log(`The execution environment ${this._executionEnvironment} does not support callbacks.`)}}))}notifyListeners(e){this._callListeners(e)}_registerEvent(e){this._events[e.name]=e}addEventListener(e){this._listeners.add(e)}removeEventListener(e){this._listeners.delete(e)}_callListeners(e){this._listeners.forEach((t=>{try{t(e)}catch(e){console.warn("Error occurred while calling Analytics event listener: ",e)}}))}setAnalyticsFlag(e){this._enableAnalytics=e}addConsentListener(e){this._consentListeners.add(e),this._broadcastUserConsentUpdate()}deleteConsentListener(e){this._consentListeners.delete(e)}addNonCrossThreadConsentListener(e){this._consentListeners.add(e)}ensureUserConsentIsAvailable(){return this._privacyService.load()}get privacyServiceInstance(){return this._privacyService}_parseCookieGroup(){if(this._executionEnvironment===c.st.Browser){return(window?.adobePrivacy?.activeCookieGroups()||[]).includes("C0002")?r.Yz.ALLOWED:r.Yz.DENIED}return r.Yz.DENIED}_updateUserConsentCb(){this.userConsent=this._parseCookieGroup()}_broadcastUserConsentUpdate(){if(0===this._consentListeners.size)return;if(this._userConsentFromCookies===r.Yz.UNINITIALIZED)return;const e={userConsent:this._userConsentFromCookies};this._consentListeners.forEach((t=>{t(e)}))}set userConsent(e){this._userConsentFromCookies=e,this._userConsentFromCookies===r.Yz.ALLOWED&&(this._eventQueueShutdownPromise=this._eventQueue?.shutdown()),this._broadcastUserConsentUpdate()}get userConsent(){return this._userConsentFromCookies}set crashLogsConsent(e){this._crashLogsConsent=e}get crashLogsConsent(){return this._crashLogsConsent}_sendDataToIngestCb(){return this._ingestService.sendEventData.bind(this)}_setUserConsentCb(){return this._updateUserConsentCb.bind(this)}constructor(e,t,i,s,o,n){super(),this._appConfig=e,this._analyticsContext=i,this._eventDataTransport=t,this._marketingTechService=s,this._privacyService=o,this._events={},this._listeners=new Set,this._consentListeners=new Set,this._executionEnvironment=c.st.Browser,this._enableAnalytics=!0,this._userConsentFromCookies=r.Yz.UNINITIALIZED,this._crashLogsConsent=!1,this._ingestService=n,this._eventQueue=new p.NH(this._eventQueueDeliveryFunction.bind(this)),this._eventQueue.maxQueueLength=20,this._eventQueue.batchSize=10}}},933121:(e,t,i)=>{i.d(t,{M6:()=>r,PR:()=>n,eW:()=>a,te:()=>o});var s=i(167363);function o(){return"undefined"!=typeof window&&Boolean(window.webkit?.messageHandlers?.hzMobile?.postMessage)}function n(){return"undefined"!=typeof window&&Boolean(window.hzMobile?.postMessage)}function a(e){if(e===s.st.Browser)return o()||n()}function r(e){if(e)return Boolean(e.getItem("msftPWA"));console.info("sessionStorage is required to check isMsftPWAShell")}}}]);
//# sourceMappingURL=84225.cec51dc30670910799dc.js.map